What is Linux Shell?
A shell provide an environment to a user to execute commands and interact with kernel.


Application
|
V
Shell
|
V
Kernel
|
V
Hardware


There are different types of shell
-bash
-sh
-ksh
-tsh
-fish
-zsh


What is my shell type
echo $0


What is shell scripting?
-Shell script consist of set of commands to perform a task.
-All the commands execute sequentially.
-Some task like file manipulation program execution, user interaction, automation of task etc can be done.


First Basic Script

#!/bin/bash			#shebang
echo "Hello World"		#to print the output


How to run a script
-Make sure the script has a execute permission --x
	chmod -x <script_name>
-Run the script
	./<script_name>

		OR

- bash <script_name>


What are variables?
VAR_NAME=value
VAR_NAME=$(hostname)
echo $VAR_NAME


Constant Variable
Once you defined a variable and don't wanna change it until end of the script.
readonly var_name="Hi"




Arrays

How to define an array?
myArray=( 1 2 Hello "Hey man")		#space separated values

How to get value from an array?
echo"${myArray[0]}"
echo"${myArray[*]}"

How to get the length of array?
echo "${#myArray[*]}"

How to get specific values?
echo "${myarray[*]:1}"
echo "${myarray[*]:1:2}"

How to update an array?
myArray+=(5 6 8)

Array Key-Value
declare -A myArray
myArray-([name]=Garv [age]=21)
echo "${myArray[name]}"




String Operations

myVar="Hello World!"
lenght=${#myVar}
upper=${x^^}
lower=${y,,}
replace=${myVar/World/Buddy}
slice=${myVar:6:11}




User Interaction

read <var_name>
read -p "Your name" Name




Arithmetic Operations 

let a++ 	OR	$((a++))
let a=5*12	OR 	$((a=5*10))


Comparision Operators

==	-ep/==
>=	-ge
<=	-le
!=	-ne/!=
>	-gt
<	-le




Conditional Statement

If-Else
if [[ $marks -gt 40 ]]
then
	echo "You are pass"
else
	echo "You are fail"
fi


Elif

if [ $marks -ge 80 ]
then
	echo "First Division"
elif [ $marks -ge 60 ]
then
	echo "Second Division"
else
	echo "Fail"


Case

read choice
case $choice in
	a)--;;
	b)--;;
	*)echo "Not a valid input"
esac


Logical Operators

AND 	&&
OR	||




Loops

For Loop
for i in {1..20}
do
	//statements
done

While Loop
while [ //condition ]
do
	//statements
done

Until Loop			#until the condition is false it will loop
until [ //condition ]
do
	//statements
done

Infinite Loop
while true
do 
	//statement
done

While Loop to Read a csv file
while IFS="," read f1 f2 f3
do
	echo $f1
	echo $f2
	echo $f3
done < file_name.csv

cat myfile.csv | awk 'NR!=1 {print}' | while IFS="," read f1 f2 f3 			#this skips the first header line




Functions

What are functions?
-> Block of cod which perform some task and run when it is called.
-> Can be reuse many times in out program which lessen our lines of code.
-> We can pass arguments to the method	

How to make Functions?
functions myfun{
	echo "Hi"}
	OR
myfun(){
	echo "Hi"}


functions hello{
	echo "Hello $1"}
hello ram 





Argument Passing

To get no. of arguments		:$#
To display all arguments	:$@
To use or display a argument 	:$1 $2

shift		-To shift an argument

break		-#to stop the loop
continue 	-#to stop current iteration
sleep 		-#to create delay 
exit		-#to stop the script 
$?		-#to check if the previous command was successful 
basename	-#to strip directory name and give only file name
dirname		-#to strip the filename and gives directory path
realapth	-#to give you full path for a file
if [ -d folder]	-#if folder exist
[ ! -d folder] 	-#if folder not exist
if [ -f file]	-#if file exist
if [ !-f file ]	-#if file not exist
RANDOM		-#a random int 0-32767 is generated
UID		-#user ID of the user logged in 




Dev/Null

What is Dev/Null?
In case o=if you don't wanna print the output of a  command on terminal or write in a file

We can redirect the output to
/dev/null

Example
#cd /root &>/dev/null



Print name of the script
echo "The name of the script is: ${0}"



Logging 

Log message
If you want to maintain the logging for you script you can logger in you r script.

you can find the logs under
/var/log/messages



Debugging
If we can enable the debugging of the script using below in the script 
set -x

If we want to exit our script when a command fail
set -e



Running script in background 
nohup ./script.sh &


Automate out Script
At or Crontab
